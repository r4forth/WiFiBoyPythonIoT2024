# MAX7219 8x8 LED display Github 專案教學範例講解
# https://github.com/mcauser/micropython-max7219
# 初始設定，以 WiFiBoy 為例
from machine import Pin, SPI
import lib.max7219
from utime import sleep

# 定義接腳
CLOCK_PIN = 18
DATA_PIN = 23
CS_PIN = 5

# 初始化 SPI
spi0 = SPI(2, baudrate=10000000, polarity=0, phase=0, sck=Pin(CLOCK_PIN), mosi=Pin(DATA_PIN))

# 初始化 CS 腳位
cs = Pin(CS_PIN, Pin.OUT)

# 初始化 MAX7219 LED 矩陣
# ==================================================================================================
# 範例開始
# ==================================================================================================
display = lib.max7219.Matrix8x8(spi0, cs, 4)  # 我們使用四個串聯在一起的 MAX7210 模組，參數要設定為4
# ==================================================================================================
# 01. 顯示 12345678 在 (0, 0) 座標
# ==================================================================================================
# display.text('12345678',0,0,1)                # 因為只有四個模組，所以只會顯示1234。在(0,0)座標畫，最後一個1是點亮 LED
# ==================================================================================================
# 02. 關閉整個 LED ，即填入0 值
# ==================================================================================================
# display.fill(0)
# ==================================================================================================
# 03. 畫個 V 字
# ==================================================================================================
# display.pixel(0,0,1)
# display.pixel(1,1,1)
# display.pixel(2,2,1)
# display.pixel(3,1,1)
# display.pixel(4,0,1)
# ==================================================================================================
# 04. 畫水平與垂直線
# ==================================================================================================
# display.hline(0,4,32,1)                       # 因為我們使用四塊水平串聯，所以x軸有32點 
# display.vline(4,0,8,1)
# ==================================================================================================
# 05. 畫空心與實心矩形
# ==================================================================================================
# display.rect(17,1,6,6,1)                      # 在(17, 1) 這點畫一個邊長 6 點的空心正方形(座標從(0,0)開始)
# display.fill_rect(25,1,6,6,1)                 # 在(25, 1) 這點畫一個邊長 6 點的實心正方形
# ==================================================================================================
# 06. 顯示文字 Play
# ==================================================================================================
# display.fill(0)
# display.text('Play',0,0,1)
# ==================================================================================================
# 07. 文字捲動
# ==================================================================================================
display.fill(0)
display.text('12345678',0,0,1)
display.scroll(-8,0) 						  # 2344
display.show()                                # 輸出 buffer 內容即繪出畫面。